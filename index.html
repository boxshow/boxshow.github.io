<script src="./fingerprint2.min.1.5.1.js" type="text/javascript"></script>
<script type="text/javascript">
// 使用 WebRTC API 获取本机网络信息
function getInternalIP() {
  return new Promise((resolve, reject) => {
    const { RTCPeerConnection, RTCSessionDescription } = window;
    const pc = new RTCPeerConnection({ iceServers: [] });
    pc.createDataChannel('');
    pc.createOffer()
      .then((offer) => {
        const desc = new RTCSessionDescription(offer);
        pc.setLocalDescription(desc);
      })
      .catch(reject);

    pc.onicecandidate = (e) => {
      if (e.candidate) {
        const match = e.candidate.candidate.match(/(192\.168\.\d+\.\d+)/);
        if (match) {
          resolve(match[1]);
        }
      } else {
        reject(new Error('Failed to get internal IP'));
      }
    };
  });
}

// 使用示例
getInternalIP().then((ip) => {
  alert(ip);
}).catch((error) => {
  console.error(error);
});
</script>